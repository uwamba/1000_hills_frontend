(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8590],{3005:(e,s,t)=>{Promise.resolve().then(t.bind(t,3416))},3416:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5155),o=t(2115);let r=()=>{let[e,s]=(0,o.useState)([]),[t,r]=(0,o.useState)(!0),n=async()=>{try{let e=localStorage.getItem("authToken"),t=await fetch("".concat("https://staging.livatrip.com/api","/room-bookings"),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!t.ok){console.error("Failed to fetch room bookings"),s([]);return}let a=await t.json();Array.isArray(a)?s(a):a&&Array.isArray(a.data)?s(a.data):(console.error("Unexpected response format:",a),s([]))}catch(e){console.error("Error fetching room bookings:",e),s([])}finally{r(!1)}};(0,o.useEffect)(()=>{n()},[]);let l=e=>{console.log("Check payment for booking",e)},i=async e=>{console.log("Approving booking",e)},c=async e=>{console.log("Canceling booking",e)};return t?(0,a.jsx)("div",{className:"p-4",children:"Loading..."}):(0,a.jsxs)("div",{className:"p-6 bg-white min-h-screen",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Room Bookings"}),0===e.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No bookings found."}):(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(e=>{var s,t,o;return(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 shadow-md hover:shadow-lg transition duration-200",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"From:"})," ",e.from_date_time]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"To:"})," ",e.to_date_time]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Seat:"})," ",e.seat]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Amount:"})," $",e.amount_to_pay]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Status:"})," ",e.status]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Room:"})," ",null==(s=e.room)?void 0:s.name," - ",null==(t=e.room)?void 0:t.location]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Client:"})," ",null==(o=e.client)?void 0:o.names]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>l(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded",children:"Check Payment"}),(0,a.jsx)("button",{onClick:()=>i(e.id),className:"bg-green-500 hover:bg-green-600 text-white text-sm px-4 py-2 rounded",children:"Approve"}),(0,a.jsx)("button",{onClick:()=>c(e.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-4 py-2 rounded",children:"Cancel"})]})]},e.id)})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8441,1684,7358],()=>s(3005)),_N_E=e.O()}]);