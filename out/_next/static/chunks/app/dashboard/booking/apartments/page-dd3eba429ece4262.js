(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8325],{138:(e,t,a)=>{Promise.resolve().then(a.bind(a,4323))},4323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(5155),n=a(2115);let r=()=>{let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(!0),o=async()=>{try{let e=localStorage.getItem("authToken"),a=await fetch("".concat("https://staging.livatrip.com/api","/apartment-bookings"),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!a.ok){console.error("Failed to fetch apartment bookings"),t([]);return}let s=await a.json();Array.isArray(s)?t(s):s&&Array.isArray(s.data)?t(s.data):(console.error("Unexpected response format:",s),t([]))}catch(e){console.error("Error fetching apartment bookings:",e),t([])}finally{r(!1)}};(0,n.useEffect)(()=>{o()},[]);let l=e=>{console.log("Check payment for booking",e)},i=async e=>{console.log("Approving apartment booking",e)},c=async e=>{console.log("Canceling apartment booking",e)};return a?(0,s.jsx)("div",{className:"p-4",children:"Loading..."}):(0,s.jsxs)("div",{className:"p-6 bg-white min-h-screen",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Apartment Bookings"}),0===e.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No bookings found."}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(e=>{var t,a,n;return(0,s.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 shadow-md hover:shadow-lg transition duration-200",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"From:"})," ",e.from_date_time]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"To:"})," ",e.to_date_time]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"Amount:"})," $",e.amount_to_pay]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"Status:"})," ",e.status]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"Apartment:"})," ",null==(t=e.apartment)?void 0:t.name," - ",null==(a=e.apartment)?void 0:a.location]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"Client:"})," ",null==(n=e.client)?void 0:n.names]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("button",{onClick:()=>l(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded",children:"Check Payment"}),(0,s.jsx)("button",{onClick:()=>i(e.id),className:"bg-green-500 hover:bg-green-600 text-white text-sm px-4 py-2 rounded",children:"Approve"}),(0,s.jsx)("button",{onClick:()=>c(e.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-4 py-2 rounded",children:"Cancel"})]})]},e.id)})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(138)),_N_E=e.O()}]);