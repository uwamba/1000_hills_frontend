(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8325],{4323:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(5155),n=s(2115);let r=()=>{let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),o=async()=>{try{let e=localStorage.getItem("authToken"),s=await fetch("".concat("https://staging.livatrip.com/api","/apartment-bookings"),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!s.ok){console.error("Failed to fetch apartment bookings"),t([]);return}let a=await s.json();Array.isArray(a)?t(a):a&&Array.isArray(a.data)?t(a.data):(console.error("Unexpected response format:",a),t([]))}catch(e){console.error("Error fetching apartment bookings:",e),t([])}finally{r(!1)}};(0,n.useEffect)(()=>{o()},[]);let l=e=>{console.log("Check payment for booking",e)},i=async e=>{console.log("Approving booking",e)},c=async e=>{console.log("Canceling booking",e)};return s?(0,a.jsx)("div",{className:"p-4",children:"Loading..."}):(0,a.jsxs)("div",{className:"p-6 bg-white min-h-screen",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Apartment Bookings"}),0===e.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No bookings found."}):(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(e=>{var t,s,n;return(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 shadow-md hover:shadow-lg transition duration-200",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"From:"})," ",e.from_date_time]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"To:"})," ",e.to_date_time]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Seat:"})," ",e.seat]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Amount:"})," $",e.amount_to_pay]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Status:"})," ",e.status]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Apartment:"})," ",null==(t=e.apartment)?void 0:t.name," - ",null==(s=e.apartment)?void 0:s.location]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:"Client:"})," ",null==(n=e.client)?void 0:n.names]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>l(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded",children:"Check Payment"}),(0,a.jsx)("button",{onClick:()=>i(e.id),className:"bg-green-500 hover:bg-green-600 text-white text-sm px-4 py-2 rounded",children:"Approve"}),(0,a.jsx)("button",{onClick:()=>c(e.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-4 py-2 rounded",children:"Cancel"})]})]},e.id)})})]})}},5067:(e,t,s)=>{Promise.resolve().then(s.bind(s,4323))}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(5067)),_N_E=e.O()}]);