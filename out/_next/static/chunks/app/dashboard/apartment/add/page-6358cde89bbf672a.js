(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{3804:(e,a,n)=>{Promise.resolve().then(n.bind(n,5426))},5426:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>s});var r=n(5155),t=n(2115);function s(){let[e,a]=(0,t.useState)({name:"",number_of_bedroom:1,kitchen_inside:!1,kitchen_outside:!1,number_of_floor:1,address:"",coordinate:{lat:"",lng:""},annexes:"",description:"",status:"",swimming_pool:!1,laundry:!1,gym:!1,room_service:!1,sauna_massage:!1}),[n,s]=(0,t.useState)([]),o=e=>{let n=e.target,{name:r,value:t,type:s}=n;"lat"===r||"lng"===r?a(e=>({...e,coordinate:{...e.coordinate,[r]:t}})):"checkbox"===s&&n instanceof HTMLInputElement?a(e=>({...e,[r]:n.checked})):"number_of_bedroom"===r||"number_of_floor"===r?a(e=>({...e,[r]:parseInt(t)})):a(e=>({...e,[r]:t}))},l=(e,a)=>{if(a.target.files&&a.target.files[0]){let r=[...n];r[e]=a.target.files[0],s(r)}},i=async r=>{r.preventDefault();let t=new FormData;t.append("name",e.name),t.append("address",e.address),t.append("description",e.description),t.append("number_of_bedroom",e.number_of_bedroom.toString()),t.append("kitchen_inside",e.kitchen_inside?"1":"0"),t.append("kitchen_outside",e.kitchen_outside?"1":"0"),t.append("number_of_floor",e.number_of_floor.toString()),t.append("status",e.status),t.append("coordinate","".concat(e.coordinate.lat,",").concat(e.coordinate.lng)),t.append("annexes",e.annexes),t.append("swimming_pool",e.swimming_pool?"1":"0"),t.append("laundry",e.laundry?"1":"0"),t.append("gym",e.gym?"1":"0"),t.append("room_service",e.room_service?"1":"0"),t.append("sauna_massage",e.sauna_massage?"1":"0"),n.forEach(e=>{e instanceof File&&t.append("photos[]",e)});try{let e=await fetch("".concat("https://staging.livatrip.com/api","/apartments"),{method:"POST",body:t});if(e.ok)alert("Apartment successfully added!"),a({name:"",number_of_bedroom:1,kitchen_inside:!1,kitchen_outside:!1,number_of_floor:1,address:"",coordinate:{lat:"",lng:""},annexes:"",description:"",status:"",swimming_pool:!1,laundry:!1,gym:!1,room_service:!1,sauna_massage:!1}),s([]);else{let a=await e.text();throw console.error("Server error:",a),Error("Failed to add apartment")}}catch(e){console.error("Error:",e),alert("There was an error adding the apartment.")}};return(0,r.jsxs)("form",{onSubmit:i,className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Add New Apartment"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Apartment Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Address"}),(0,r.jsx)("input",{type:"text",name:"address",value:e.address,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Latitude"}),(0,r.jsx)("input",{type:"text",name:"lat",value:e.coordinate.lat,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Longitude"}),(0,r.jsx)("input",{type:"text",name:"lng",value:e.coordinate.lng,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Description"}),(0,r.jsx)("textarea",{name:"description",value:e.description,onChange:o,rows:3,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Number of Bedrooms"}),(0,r.jsx)("input",{type:"number",name:"number_of_bedroom",value:e.number_of_bedroom,onChange:o,min:1,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Number of Floors"}),(0,r.jsx)("input",{type:"number",name:"number_of_floor",value:e.number_of_floor,onChange:o,min:1,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"kitchen_inside",checked:e.kitchen_inside,onChange:o}),(0,r.jsx)("label",{className:"text-gray-900",children:"Kitchen Inside"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",name:"kitchen_outside",checked:e.kitchen_outside,onChange:o}),(0,r.jsx)("label",{className:"text-gray-900",children:"Kitchen Outside"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Annexes"}),(0,r.jsx)("input",{type:"text",name:"annexes",value:e.annexes,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Status"}),(0,r.jsxs)("select",{name:"status",value:e.status,onChange:o,className:"w-full p-2 mt-1 text-gray-900 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Status"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,r.jsx)("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3 pt-4",children:[{label:"Swimming Pool",name:"swimming_pool"},{label:"Laundry",name:"laundry"},{label:"Gym",name:"gym"},{label:"Room Service",name:"room_service"},{label:"Sauna Massage",name:"sauna_massage"}].map(a=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",name:a.name,checked:e[a.name],onChange:o}),(0,r.jsx)("label",{className:"text-gray-900",children:a.label})]},a.name))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Photos"}),(0,r.jsx)("div",{className:"space-y-2",children:n.map((e,a)=>(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>l(a,e),className:"block w-full text-sm text-gray-900 border border-gray-300 rounded file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},a))}),(0,r.jsx)("button",{type:"button",onClick:()=>{s([...n,new File([],"")])},className:"mt-3 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700",children:"+ Add Another Photo"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full py-3 text-white bg-blue-700 rounded hover:bg-blue-800 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Apartment"})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(3804)),_N_E=e.O()}]);