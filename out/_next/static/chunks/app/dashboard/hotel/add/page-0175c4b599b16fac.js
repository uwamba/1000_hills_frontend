(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{7992:(e,t,r)=>{Promise.resolve().then(r.bind(r,8006))},8006:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),s=r(2115);function l(){let[e,t]=(0,s.useState)({name:"",address:"",coordinate:{lat:"",lng:""},description:"",stars:1,working_time:"",status:""}),[r,l]=(0,s.useState)([]),n=e=>{let{name:r,value:a}=e.target;"lat"===r||"lng"===r?t(e=>({...e,coordinate:{...e.coordinate,[r]:a}})):"stars"===r?t(e=>({...e,[r]:parseInt(a)})):t(e=>({...e,[r]:a}))},i=(e,t)=>{if(t.target.files&&t.target.files[0]){let a=[...r];a[e]=t.target.files[0],l(a)}},o=async a=>{a.preventDefault();let s=new FormData;s.append("name",e.name),s.append("address",e.address),s.append("description",e.description),s.append("stars",e.stars.toString()),s.append("working_time",e.working_time),s.append("status",e.status),s.append("coordinate","".concat(e.coordinate.lat,",").concat(e.coordinate.lng)),r.forEach(e=>{e instanceof File&&s.append("photos[]",e)});try{let e=await fetch("".concat("https://staging.livatrip.com/api","/hotels"),{method:"POST",body:s});if(e.ok)alert("Hotel successfully added!"),t({name:"",address:"",coordinate:{lat:"",lng:""},description:"",stars:1,working_time:"",status:""}),l([]);else{let t=await e.text();throw console.error("Server error:",t),Error("Failed to add hotel")}}catch(e){console.error("Error:",e),alert("There was an error adding the hotel.")}};return(0,a.jsxs)("form",{onSubmit:o,className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-md space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add New Hotel"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Hotel Name"}),(0,a.jsx)("input",{type:"text",name:"name",value:e.name,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,a.jsx)("input",{type:"text",name:"address",value:e.address,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Latitude"}),(0,a.jsx)("input",{type:"text",name:"lat",value:e.coordinate.lat,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Longitude"}),(0,a.jsx)("input",{type:"text",name:"lng",value:e.coordinate.lng,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:e.description,onChange:n,rows:3,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Stars"}),(0,a.jsx)("input",{type:"number",name:"stars",value:e.stars,onChange:n,min:1,max:5,step:1,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Working Time"}),(0,a.jsx)("input",{type:"text",name:"working_time",value:e.working_time,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{name:"status",value:e.status,onChange:n,className:"w-full p-2 mt-1 text-gray-800 border border-gray-300 rounded focus:ring focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Photos"}),(0,a.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>(0,a.jsx)("input",{type:"file",accept:"image/*",name:"photos",multiple:!0,onChange:e=>i(t,e),className:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 border border-gray-300 rounded"},t))}),(0,a.jsx)("button",{type:"button",onClick:()=>{l([...r,new File([],"")])},className:"mt-3 inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 transition",children:"+ Add Another Photo"})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"submit",className:"w-full py-3 text-white bg-blue-600 rounded hover:bg-blue-700 transition",children:"Submit Hotel"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7992)),_N_E=e.O()}]);