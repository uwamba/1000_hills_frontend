(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{326:(e,t,s)=>{Promise.resolve().then(s.bind(s,3807))},3807:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5155),a=s(2115),o=s(5695),n=s(6874),l=s.n(n);function u(){let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(""),[u,i]=(0,a.useState)(""),c=(0,o.useRouter)(),d=async t=>{t.preventDefault(),i("");try{let t=await fetch("".concat("https://staging.livatrip.com/api","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),r=await t.json();if(!t.ok)throw Error(r.error||"Login failed");localStorage.setItem("authToken",r.token),localStorage.setItem("user",JSON.stringify(r.user)),c.push("/dashboard")}catch(e){i(e.message)}};return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-screen",children:(0,r.jsxs)("form",{onSubmit:d,className:"w-96 p-6 shadow-md rounded bg-white",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Sign In"}),u&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-3",children:u}),(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"w-full p-2 border rounded mb-3",value:e,onChange:e=>t(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded mb-3",value:s,onChange:e=>n(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Login"}),(0,r.jsx)("div",{className:"mt-3 text-center",children:(0,r.jsx)(l(),{href:"/forgot-password",className:"text-blue-500 hover:underline text-sm",children:"Forgot password?"})})]})})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(326)),_N_E=e.O()}]);