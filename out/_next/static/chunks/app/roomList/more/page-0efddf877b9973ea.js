(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6692],{4615:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155),l=s(6874),r=s.n(l);function n(){return(0,a.jsx)("header",{className:"bg-blue-800 text-white shadow-md sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Liva Trip"}),(0,a.jsxs)("nav",{className:"space-x-6",children:[(0,a.jsx)(r(),{href:"/",className:"hover:underline",children:"Home"}),(0,a.jsx)(r(),{href:"/roomList",className:"hover:underline",children:"Hotels Rooms"}),(0,a.jsx)(r(),{href:"/busListing",className:"hover:underline",children:"Bus Tickets"}),(0,a.jsx)(r(),{href:"/apartmentsListing",className:"hover:underline",children:"Apartment"}),(0,a.jsx)(r(),{href:"/contact",className:"hover:underline",children:"Contact Us"}),(0,a.jsx)(r(),{href:"/signin",className:"hover:underline",children:"Login"})]})]})})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6608:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),l=s(2115);let r="https://staging.livatrip.com/api",n=e=>{let{propertyId:t,price:s,object_type:n}=e,o={from_date_time:new Date().toISOString().split("T")[0]+"T00:00",to_date_time:new Date().toISOString().split("T")[0]+"T00:00",email:"",names:"",country:"",phone:"",object_type:n,object_id:t,amount_to_pay:s.toString(),status:"",payment_method:"",extra_note:"",momo_number:""},[i,c]=(0,l.useState)(o),[d,m]=(0,l.useState)(0),[h,x]=(0,l.useState)(""),[u,p]=(0,l.useState)("form"),[g,b]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!1),v=e=>{let{name:t,value:s}="target"in e?e.target:e;c(e=>({...e,[t]:s}))},w=()=>{N(!1),c(o),x(""),p("form")},_=async()=>{let{momo_number:e,payment_method:t,email:s}=i;if(!t)return alert("Please select a payment method.");if("momo"===t&&!/^2507\d{8}$/.test(e))return alert("Please enter a valid MoMo phone number (format: 2507XXXXXXXX).");b(!0);try{if(!(await fetch("".concat(r,"/send-otp"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s})})).ok)throw Error("Failed to send OTP");p("otp")}catch(e){alert("Error sending OTP"),console.error(e)}finally{b(!1)}};(0,l.useEffect)(()=>{let e=new Date(i.from_date_time),t=Math.ceil((new Date(i.to_date_time).getTime()-e.getTime())/864e5),a=(t>0?t:0)*s;m(a),c(e=>({...e,amount_to_pay:a.toString()}))},[i.from_date_time,i.to_date_time,s]);let k=async()=>{f(!0);try{if(!(await fetch("".concat(r,"/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i.email,otp:h})})).ok)throw Error("Invalid OTP");if(!(await fetch("".concat(r,"/bookings"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)})).ok)throw Error("Booking failed");console.log("Booking successful",i),p("success")}catch(e){alert("Verification or booking failed"),console.error(e)}finally{f(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{N(!0),p("form")},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Book Now"}),y&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-800 mb-2",children:["Step: ",u]}),(0,a.jsx)("button",{onClick:w,className:"absolute top-2 right-2 text-gray-600 hover:text-black text-xl",children:"\xd7"}),"form"===u&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Booking Details"}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-black",children:"From"}),(0,a.jsx)("input",{type:"date",name:"from_date_time",value:i.from_date_time.split("T")[0],onChange:e=>v({name:"from_date_time",value:"".concat(e.target.value,"T00:00")}),className:"w-full p-2 border rounded mt-1 text-black"})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-black",children:"To"}),(0,a.jsx)("input",{type:"date",name:"to_date_time",value:i.to_date_time.split("T")[0],onChange:e=>v({name:"to_date_time",value:"".concat(e.target.value,"T00:00")}),className:"w-full p-2 border rounded mt-1 text-black"})]}),(0,a.jsxs)("div",{className:"text-black font-medium",children:["Price per day: ",s," ",(0,a.jsx)("br",{}),"Total Price: ",(0,a.jsx)("span",{className:"font-bold",children:d})]}),(0,a.jsx)("input",{type:"text",name:"names",placeholder:"Full Name",value:i.names,onChange:v,className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("input",{type:"text",name:"country",placeholder:"Country",value:i.country,onChange:v,className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:v,className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:i.phone,onChange:v,className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("button",{type:"button",onClick:()=>i.from_date_time&&i.to_date_time?i.email&&i.names&&i.phone&&i.country?void p("payment"):alert("Please complete all personal details."):alert("Please select both From and To dates."),className:"w-full p-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Continue to Payment"})]}),"payment"===u&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Choose Payment Method"}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-black",children:"Payment Method"}),(0,a.jsxs)("select",{name:"payment_method",value:i.payment_method,onChange:v,className:"w-full p-2 border rounded mt-1 text-black",children:[(0,a.jsx)("option",{value:"",children:"-- Select Payment Method --"}),(0,a.jsx)("option",{value:"momo_rwanda",children:"MOMO (MTN Rwanda)"}),(0,a.jsx)("option",{value:"flutterwave",children:"Flutterwave (MOMO, Airtel, Card, Bank Transfer)"})]})]}),"momo_rwanda"===i.payment_method&&(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-black",children:"MoMo Phone Number"}),(0,a.jsx)("input",{type:"number",name:"momo_number",placeholder:"momo_number (e.g., 2507XXXXXXXX)",value:i.momo_number,onChange:e=>v({name:"momo_number",value:e.target.value}),className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("textarea",{name:"extra_note",placeholder:"Additional Notes (optional)",value:i.extra_note,onChange:e=>v({name:"extra_note",value:e.target.value}),className:"w-full p-2 border rounded text-black mt-2"})]})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{onClick:()=>p("form"),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Back"}),(0,a.jsx)("button",{type:"button",onClick:_,disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:g?"Sending OTP...":"Continue"})]})]}),"otp"===u&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Verify OTP"}),(0,a.jsx)("input",{type:"text",placeholder:"Enter OTP",value:h,onChange:e=>x(e.target.value),className:"w-full p-2 border rounded text-black"}),(0,a.jsx)("button",{type:"button",onClick:k,disabled:j,className:"w-full p-2 bg-green-600 text-white rounded hover:bg-green-700",children:j?"Verifying...":"Verify & Book"})]}),"success"===u&&(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-green-700",children:"Booking Confirmed!"}),(0,a.jsx)("p",{className:"text-black",children:"Thank you. Weâ€™ll be in touch soon."}),(0,a.jsx)("button",{onClick:w,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Close"})]})]})})]})};var o=s(5695);function i(){var e;let t=(0,o.useSearchParams)().get("roomId"),[s,r]=(0,l.useState)(null),[i,c]=(0,l.useState)([]),[d,m]=(0,l.useState)(!0),[h,x]=(0,l.useState)(0),u="https://staging.livatrip.com/storage";if((0,l.useEffect)(()=>{t&&(async()=>{try{let e=await fetch("".concat("https://staging.livatrip.com/api","/client/rooms/").concat(t));if(!e.ok)throw Error("Failed to fetch room details");let s=await e.json();r(s.room),c(s.similarRooms||[])}catch(e){console.error("Error loading room:",e)}finally{m(!1)}})()},[t]),d)return(0,a.jsx)("div",{className:"p-6 text-center text-lg text-gray-500",children:"Loading room details..."});if(!s)return(0,a.jsx)("div",{className:"p-6 text-center text-lg text-red-500",children:"Room not found."});let p=s.photos||[];return(0,a.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-indigo-700 mb-4",children:s.name}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full h-[400px] mb-4 rounded-xl overflow-hidden shadow-lg border border-gray-300",children:(0,a.jsx)("img",{src:p.length>0?"".concat(u,"/").concat(p[h].path):"/placeholder.jpg",alt:"Selected",className:"w-full h-full object-cover"})}),p.length>1&&(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto",children:p.map((e,t)=>(0,a.jsx)("img",{src:"".concat(u,"/").concat(e.path),onClick:()=>x(t),className:"h-20 w-28 object-cover rounded-lg cursor-pointer border-2 transition ".concat(h===t?"border-indigo-600 ring-2 ring-indigo-300":"border-gray-300"),alt:"Thumbnail ".concat(t+1)},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg text-gray-700 mb-3",children:s.name}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-800",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Type:"})," ",s.type]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Bed Size:"})," ",s.bed_size]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Price:"})," ",s.price," ",s.currency]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Capacity:"})," ",s.number_of_people," people"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"WiFi:"})," ",s.has_wireless?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Bathroom:"})," ",s.has_bathroom?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Air Conditioning:"})," ",s.has_ac?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Swimming Pool:"})," ",s.has_swimming_pool?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Laundry:"})," ",s.has_laundry?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Gym:"})," ",s.has_gym?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Room Service:"})," ",s.has_room_service?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Sauna & Massage:"})," ",s.has_sauna_massage?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Kitchen:"})," ",s.has_kitchen?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Fridge:"})," ",s.has_fridge?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Status:"})," ",(0,a.jsx)("span",{className:"available"===s.status?"text-green-600 font-semibold":"text-red-600 font-semibold",children:s.status||"N/A"})]}),s.hotel&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Hotel:"})," ",s.hotel.name]}),s.updatedBy&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Updated by:"})," ",s.updatedBy.name]}),s.deletedBy&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Deleted by:"})," ",s.deletedBy.name]}),s.deleted_on&&(0,a.jsxs)("p",{className:"text-red-500",children:[(0,a.jsx)("strong",{children:"Deleted on:"})," ",new Date(s.deleted_on).toLocaleString()]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(n,{propertyId:s.id.toString(),price:null!=(e=s.price)?e:0,object_type:"room"})})]})]}),(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-indigo-700 mb-4",children:"Similar Rooms"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:i.length?i.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"bg-white rounded shadow-lg p-4",children:[(0,a.jsx)("img",{src:"".concat(u,"/").concat((null==(s=e.photos)||null==(t=s[0])?void 0:t.path)||"/placeholder.jpg"),alt:e.name,className:"w-full h-48 object-cover rounded"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-indigo-700 mt-4",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-700",children:["Price: ",e.price," ",e.currency]}),(0,a.jsx)("button",{className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition",children:"View Details"})]},e.id)}):(0,a.jsx)("p",{children:"No similar rooms available."})})]})]})}},6821:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var a=s(5155),l=s(2115);function r(){let[e,t]=(0,l.useState)(!1);return(0,a.jsxs)("footer",{className:"bg-blue-800 text-white py-6 mt-10 relative z-10",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center",children:[(0,a.jsx)("p",{className:"text-sm sm:text-base mb-2 sm:mb-0",children:"\xa9 2025 Visit Liva Trip. All rights reserved."}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"bg-white text-blue-800 px-4 py-2 rounded hover:bg-blue-100 font-semibold transition duration-200",children:"Chat with Us"})]}),e&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white w-80 sm:w-96 p-4 rounded-lg shadow-lg border border-gray-300 text-black relative",children:[(0,a.jsx)("button",{onClick:()=>t(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3 text-blue-800",children:"Live Chat"}),(0,a.jsx)("div",{className:"h-40 overflow-y-auto border border-gray-200 rounded p-2 mb-3 text-sm",children:(0,a.jsx)("p",{className:"text-gray-600 italic",children:"Chat started. How can we help you today?"})}),(0,a.jsx)("input",{type:"text",placeholder:"Type your message...",className:"w-full p-2 border border-gray-300 rounded mb-2"}),(0,a.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Send"})]})})]})}},7759:(e,t,s)=>{Promise.resolve().then(s.bind(s,6608)),Promise.resolve().then(s.bind(s,6821)),Promise.resolve().then(s.bind(s,4615))}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(7759)),_N_E=e.O()}]);