(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9417],{2672:(e,r,a)=>{"use strict";a.d(r,{default:()=>l});var t=a(5155),n=a(2115),s=a(313),o=a(7803),i=a(9509);function l(){var e,r;let[a,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[g,p]=(0,n.useState)(1),[u,m]=(0,n.useState)(1),[x,h]=(0,n.useState)(null),[f,b]=(0,n.useState)(!1),[y,_]=(0,n.useState)(0),[v,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)({min_price_per_person:"",max_price_per_person:"",min_package_price:"",max_package_price:"",min_capacity:"",max_capacity:"",pricing_type:"",from_date:"",to_date:""}),k=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;try{d(!0);let a=new URLSearchParams({page:String(e),...Object.fromEntries(Object.entries(r).filter(e=>{let[,r]=e;return""!==r}))}),t=await fetch("".concat("https://test.livatrip.com","/client/retreats?").concat(a));if(!t.ok)throw Error("Failed to fetch retreats");let n=await t.json();l(r=>1===e?n.data:[...r,...n.data]),p(n.current_page),m(n.last_page)}catch(e){console.error("Error fetching retreats:",e)}finally{d(!1)}};(0,n.useEffect)(()=>{k(1)},[]);let C=i.env.NEXT_PUBLIC_IMAGE_BASE_URL_STORAGE||"http://localhost:3000/images",P=()=>{b(!1),h(null)},S=e=>{h(e),b(!1),j(!0)};return(0,t.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"Retreat List"}),(0,t.jsxs)("div",{className:"mb-6 bg-white p-6 rounded-lg shadow-md grid md:grid-cols-3 gap-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min Price/Person",value:N.min_price_per_person,onChange:e=>w({...N,min_price_per_person:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("input",{type:"number",placeholder:"Max Price/Person",value:N.max_price_per_person,onChange:e=>w({...N,max_price_per_person:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min Package Price",value:N.min_package_price,onChange:e=>w({...N,min_package_price:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("input",{type:"number",placeholder:"Max Package Price",value:N.max_package_price,onChange:e=>w({...N,max_package_price:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min Capacity",value:N.min_capacity,onChange:e=>w({...N,min_capacity:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("input",{type:"number",placeholder:"Max Capacity",value:N.max_capacity,onChange:e=>w({...N,max_capacity:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,t.jsxs)("select",{value:N.pricing_type,onChange:e=>w({...N,pricing_type:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,t.jsx)("option",{value:"",children:"Pricing Type"}),(0,t.jsx)("option",{value:"package",children:"Package"}),(0,t.jsx)("option",{value:"per_person",children:"Per Person"})]}),(0,t.jsx)("input",{type:"date",value:N.from_date,onChange:e=>w({...N,from_date:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,t.jsx)("input",{type:"date",value:N.to_date,onChange:e=>w({...N,to_date:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,t.jsxs)("div",{className:"col-span-3 flex justify-end gap-3 mt-2",children:[(0,t.jsx)("button",{onClick:()=>{k(1)},className:"px-5 py-2.5 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:"Search"}),(0,t.jsx)("button",{onClick:()=>{let e={price_per_person:"",package_price:"",capacity:"",pricing_type:"",from_date:"",to_date:"",min_price_per_person:"",max_price_per_person:"",min_package_price:"",max_package_price:"",min_capacity:"",max_capacity:""};w(e),k(1,e)},className:"px-5 py-2.5 bg-gray-100 text-gray-700 font-semibold rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:"Clear"})]})]}),c&&1===g?(0,t.jsx)("div",{className:"text-center text-lg text-gray-600",children:"Loading retreats..."}):0===a.length?(0,t.jsx)("div",{className:"text-center text-lg text-gray-500",children:"No retreats found."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>{var r;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border hover:shadow-2xl transform transition-transform hover:scale-105",children:[(0,t.jsx)("div",{className:"w-full h-48 mb-4 overflow-hidden rounded-lg",children:(0,t.jsx)("img",{src:(null==(r=e.photos)?void 0:r.length)>0?"".concat(C,"/").concat(e.photos[0].path):"/placeholder.jpg",alt:e.title,className:"object-cover w-full h-full"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-indigo-600",children:e.title}),(0,t.jsx)("p",{className:"text-md text-gray-500",children:e.address}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price: $",e.capacity]}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price/Person: ",e.price_per_person," "]}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Package Price: ",e.package_price," "]}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)("button",{onClick:()=>{h(e),_(0),b(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"See More Details"}),(0,t.jsx)("button",{onClick:()=>S(e),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})]})]},e.id)})}),g<u&&(0,t.jsx)("div",{className:"mt-8 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>k(g+1),className:"px-6 py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50",disabled:c,children:c?"Loading...":"Show More"})})]}),(0,t.jsxs)(s.lG,{open:f,onClose:P,className:"relative z-50",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-auto",children:(0,t.jsxs)(s.lG.Panel,{className:"bg-white max-w-5xl w-full rounded-xl p-6 shadow-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)(s.lG.Title,{className:"text-3xl font-bold text-indigo-700",children:null==x?void 0:x.title}),(0,t.jsx)("button",{onClick:P,className:"text-gray-500 hover:text-gray-800 text-xl",children:"âœ•"})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:null==x?void 0:x.address}),(null==x||null==(e=x.photos)?void 0:e.length)?(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"w-full h-96 mb-4 rounded overflow-hidden border",children:(0,t.jsx)("img",{src:(null==(r=x.photos)?void 0:r[y])?"".concat(C,"/").concat(x.photos[y].path):"/placeholder.jpg",alt:"Main",className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:x.photos.map((e,r)=>(0,t.jsx)("img",{src:"".concat(C,"/").concat(e.path),onClick:()=>_(r),className:"w-24 h-24 object-cover rounded cursor-pointer border-2 ".concat(r===y?"border-indigo-500":"border-gray-200 hover:border-gray-400"),alt:"Thumbnail ".concat(r+1)},e.id))})]}):null,x&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("button",{onClick:()=>S(x),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})})]})})]}),x&&(0,t.jsx)(o.A,{isOpen:v,onClose:()=>{j(!1),h(null)},retreatId:x.id,retreatTitle:x.title})]})}},8750:(e,r,a)=>{Promise.resolve().then(a.bind(a,2672)),Promise.resolve().then(a.bind(a,6821)),Promise.resolve().then(a.bind(a,4615))}},e=>{e.O(0,[6874,9096,8789,8441,5964,7358],()=>e(e.s=8750)),_N_E=e.O()}]);