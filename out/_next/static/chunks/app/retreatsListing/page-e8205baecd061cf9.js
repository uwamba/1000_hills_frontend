(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{4615:(e,a,t)=>{"use strict";t.d(a,{default:()=>l});var r=t(5155),s=t(6874),n=t.n(s);function l(){return(0,r.jsx)("header",{className:"bg-blue-800 text-white shadow-md sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Liva Trip"}),(0,r.jsxs)("nav",{className:"space-x-6",children:[(0,r.jsx)(n(),{href:"/",className:"hover:underline",children:"Home"}),(0,r.jsx)(n(),{href:"/roomList",className:"hover:underline",children:"Hotels Rooms"}),(0,r.jsx)(n(),{href:"/busListing",className:"hover:underline",children:"Bus Tickets"}),(0,r.jsx)(n(),{href:"/apartmentsListing",className:"hover:underline",children:"Apartment"}),(0,r.jsx)(n(),{href:"/retreatsListing",className:"hover:underline",children:"Event & Meeting"}),(0,r.jsx)(n(),{href:"/contact",className:"hover:underline",children:"Contact"}),(0,r.jsx)(n(),{href:"/signin",className:"hover:underline",children:"Sign in"})]})]})})}},4707:(e,a,t)=>{Promise.resolve().then(t.bind(t,7646)),Promise.resolve().then(t.bind(t,6821)),Promise.resolve().then(t.bind(t,4615))},6821:(e,a,t)=>{"use strict";t.d(a,{default:()=>s});var r=t(5155);function s(){return(0,r.jsx)("footer",{className:"bg-blue-800 text-white text-center py-6 mt-10",children:(0,r.jsx)("p",{children:"\xa9 2025 Visit Liva Trip. All rights reserved."})})}},7646:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var r=t(5155),s=t(2115),n=t(313);function l(e){let{isOpen:a,onClose:t,retreatTitle:l,retreatId:i}=e,[o,c]=(0,s.useState)("form"),[d,m]=(0,s.useState)({name:"",email:"",phone:"",fromDate:"",toDate:"",payment_method:"",momo_number:""}),[p,u]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),f=e=>{m({...d,[e.target.name]:e.target.value})},y=async()=>{h(!0);try{if(!(await fetch("".concat("https://staging.livatrip.com/api","/retreats/").concat(i,"/send-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw Error("Failed to send OTP");c("otp")}catch(e){console.error(e),alert("Failed to send OTP!")}finally{h(!1)}},j=async()=>{b(!0);try{if(!(await fetch("".concat("https://staging.livatrip.com/api","/retreats/").concat(i,"/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,otp:p})})).ok)throw Error("OTP verification failed");c("success")}catch(e){console.error(e),alert("OTP verification failed!")}finally{b(!1)}},v=()=>{c("form"),m({name:"",email:"",phone:"",fromDate:"",toDate:"",payment_method:"",momo_number:""}),u(""),t()};return(0,r.jsxs)(n.lG,{open:a,onClose:v,className:"relative z-50",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,r.jsxs)(n.lG.Panel,{className:"bg-white max-w-md w-full rounded-lg p-6 shadow-lg relative",children:[(0,r.jsx)("button",{onClick:v,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl",children:"\xd7"}),"form"===o&&(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c("payment")},className:"space-y-4",children:[(0,r.jsxs)(n.lG.Title,{className:"text-xl font-semibold mb-2",children:["Book Retreat: ",(0,r.jsx)("span",{className:"text-indigo-600",children:l})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:d.name,onChange:f,className:"w-full mt-1 border rounded px-3 py-2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:d.email,onChange:f,className:"w-full mt-1 border rounded px-3 py-2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,r.jsx)("input",{type:"tel",name:"phone",value:d.phone,onChange:f,className:"w-full mt-1 border rounded px-3 py-2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"From Date"}),(0,r.jsx)("input",{type:"date",name:"fromDate",value:d.fromDate,onChange:f,className:"w-full mt-1 border rounded px-3 py-2 text-black",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"To Date"}),(0,r.jsx)("input",{type:"date",name:"toDate",value:d.toDate,onChange:f,className:"w-full mt-1 border rounded px-3 py-2 text-black",required:!0})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Continue to Payment"})})]}),"payment"===o&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(n.lG.Title,{className:"text-xl font-semibold mb-2",children:"Choose Payment Method"}),(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"text-black",children:"Payment Method"}),(0,r.jsxs)("select",{name:"payment_method",value:d.payment_method,onChange:f,className:"w-full mt-1 border rounded px-3 py-2 text-black",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a payment method"}),(0,r.jsx)("option",{value:"momo",children:"Mobile Money"}),(0,r.jsx)("option",{value:"card",children:"Credit Card"})]})]}),"momo"===d.payment_method&&(0,r.jsxs)("label",{className:"block",children:[(0,r.jsx)("span",{className:"text-black",children:"Mobile Money Number"}),(0,r.jsx)("input",{type:"text",name:"momo_number",value:d.momo_number,onChange:f,className:"w-full mt-1 border rounded px-3 py-2 text-black",required:!0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>c("form"),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Back"}),(0,r.jsx)("button",{onClick:y,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:x?"Sending OTP...":"Send OTP"})]})]}),"otp"===o&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(n.lG.Title,{className:"text-xl font-semibold mb-2",children:"Enter OTP"}),(0,r.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),className:"w-full border rounded px-3 py-2",placeholder:"Enter OTP",required:!0}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>c("payment"),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Back"}),(0,r.jsx)("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:g?"Verifying...":"Verify OTP"})]})]}),"success"===o&&(0,r.jsx)("div",{className:"text-center text-green-600 font-semibold text-lg",children:"Booking successful! \uD83C\uDF89"})]})})]})}function i(){var e,a;let[t,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)(1),[p,u]=(0,s.useState)(1),[x,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)(0),[j,v]=(0,s.useState)(!1),[N,_]=(0,s.useState)({min_price_per_person:"",max_price_per_person:"",min_package_price:"",max_package_price:"",min_capacity:"",max_capacity:"",pricing_type:"",from_date:"",to_date:""}),w=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;try{c(!0);let t=new URLSearchParams({page:String(e),...Object.fromEntries(Object.entries(a).filter(e=>{let[,a]=e;return""!==a}))}),r=await fetch("".concat("https://staging.livatrip.com/api","/client/retreats?").concat(t));if(!r.ok)throw Error("Failed to fetch retreats");let s=await r.json();i(a=>1===e?s.data:[...a,...s.data]),m(s.current_page),u(s.last_page)}catch(e){console.error("Error fetching retreats:",e)}finally{c(!1)}};(0,s.useEffect)(()=>{w(1)},[]);let k="https://staging.livatrip.com/storage",C=e=>{h(e),y(0),b(!0)},P=()=>{b(!1),h(null)},S=e=>{h(e),b(!1),v(!0)};return(0,r.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"Retreat List"}),(0,r.jsxs)("div",{className:"mb-6 bg-white p-6 rounded-lg shadow-md grid md:grid-cols-3 gap-4 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"number",placeholder:"Min Price/Person",value:N.min_price_per_person,onChange:e=>_({...N,min_price_per_person:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,r.jsx)("input",{type:"number",placeholder:"Max Price/Person",value:N.max_price_per_person,onChange:e=>_({...N,max_price_per_person:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"number",placeholder:"Min Package Price",value:N.min_package_price,onChange:e=>_({...N,min_package_price:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,r.jsx)("input",{type:"number",placeholder:"Max Package Price",value:N.max_package_price,onChange:e=>_({...N,max_package_price:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"number",placeholder:"Min Capacity",value:N.min_capacity,onChange:e=>_({...N,min_capacity:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,r.jsx)("input",{type:"number",placeholder:"Max Capacity",value:N.max_capacity,onChange:e=>_({...N,max_capacity:e.target.value}),className:"w-1/2 border border-gray-300 p-3 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("select",{value:N.pricing_type,onChange:e=>_({...N,pricing_type:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Pricing Type"}),(0,r.jsx)("option",{value:"package",children:"Package"}),(0,r.jsx)("option",{value:"per_person",children:"Per Person"})]}),(0,r.jsx)("input",{type:"date",value:N.from_date,onChange:e=>_({...N,from_date:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,r.jsx)("input",{type:"date",value:N.to_date,onChange:e=>_({...N,to_date:e.target.value}),className:"border border-gray-300 p-3 rounded-md text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,r.jsxs)("div",{className:"col-span-3 flex justify-end gap-3 mt-2",children:[(0,r.jsx)("button",{onClick:()=>{w(1)},className:"px-5 py-2.5 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:"Search"}),(0,r.jsx)("button",{onClick:()=>{let e={price_per_person:"",package_price:"",capacity:"",pricing_type:"",from_date:"",to_date:"",min_price_per_person:"",max_price_per_person:"",min_package_price:"",max_package_price:"",min_capacity:"",max_capacity:""};_(e),w(1,e)},className:"px-5 py-2.5 bg-gray-100 text-gray-700 font-semibold rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:"Clear"})]})]}),o&&1===d?(0,r.jsx)("div",{className:"text-center text-lg text-gray-600",children:"Loading retreats..."}):0===t.length?(0,r.jsx)("div",{className:"text-center text-lg text-gray-500",children:"No retreats found."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var a;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border hover:shadow-2xl transform transition-transform hover:scale-105",children:[(0,r.jsx)("div",{className:"w-full h-48 mb-4 overflow-hidden rounded-lg",children:(0,r.jsx)("img",{src:(null==(a=e.photos)?void 0:a.length)>0?"".concat(k,"/").concat(e.photos[0].path):"/placeholder.jpg",alt:e.title,className:"object-cover w-full h-full"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-indigo-600",children:e.title}),(0,r.jsx)("p",{className:"text-md text-gray-500",children:e.address}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price: $",e.capacity]}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price/Person: ",e.price_per_person," people"]}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Package Price: ",e.package_price," people"]}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)("button",{onClick:()=>C(e),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"See More Details"}),(0,r.jsx)("button",{onClick:()=>S(e),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})]})]},e.id)})}),d<p&&(0,r.jsx)("div",{className:"mt-8 flex justify-center",children:(0,r.jsx)("button",{onClick:()=>w(d+1),className:"px-6 py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50",disabled:o,children:o?"Loading...":"Show More"})})]}),(0,r.jsxs)(n.lG,{open:g,onClose:P,className:"relative z-50",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-auto",children:(0,r.jsxs)(n.lG.Panel,{className:"bg-white max-w-5xl w-full rounded-xl p-6 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)(n.lG.Title,{className:"text-3xl font-bold text-indigo-700",children:null==x?void 0:x.title}),(0,r.jsx)("button",{onClick:P,className:"text-gray-500 hover:text-gray-800 text-xl",children:"âœ•"})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:null==x?void 0:x.address}),(null==x||null==(e=x.photos)?void 0:e.length)?(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"w-full h-96 mb-4 rounded overflow-hidden border",children:(0,r.jsx)("img",{src:(null==(a=x.photos)?void 0:a[f])?"".concat(k,"/").concat(x.photos[f].path):"/placeholder.jpg",alt:"Main",className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:x.photos.map((e,a)=>(0,r.jsx)("img",{src:"".concat(k,"/").concat(e.path),onClick:()=>y(a),className:"w-24 h-24 object-cover rounded cursor-pointer border-2 ".concat(a===f?"border-indigo-500":"border-gray-200 hover:border-gray-400"),alt:"Thumbnail ".concat(a+1)},e.id))})]}):null,x&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:()=>S(x),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})})]})})]}),x&&(0,r.jsx)(l,{isOpen:j,onClose:()=>{v(!1),h(null)},retreatId:x.id,retreatTitle:x.title})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[874,313,441,684,358],()=>a(4707)),_N_E=e.O()}]);