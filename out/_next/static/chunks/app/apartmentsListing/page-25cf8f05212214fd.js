(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6228],{2885:(e,t,a)=>{Promise.resolve().then(a.bind(a,9641)),Promise.resolve().then(a.bind(a,6821)),Promise.resolve().then(a.bind(a,4615))},4615:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(5155),r=a(2115),n=a(6874),l=a.n(n),o=a(4416),i=a(4783);function c(){let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)("header",{className:"bg-blue-800 text-white shadow-md sticky top-0 z-50",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Liva Trip"}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,s.jsx)(l(),{href:"/",className:"hover:underline",children:"Home"}),(0,s.jsx)(l(),{href:"/roomList",className:"hover:underline",children:"Hotels Rooms"}),(0,s.jsx)(l(),{href:"/busListing",className:"hover:underline",children:"Bus Tickets"}),(0,s.jsx)(l(),{href:"/apartmentsListing",className:"hover:underline",children:"Apartment"}),(0,s.jsx)(l(),{href:"/contact",className:"hover:underline",children:"Contact Us"}),(0,s.jsx)(l(),{href:"/signin",className:"hover:underline",children:"Login"})]}),(0,s.jsx)("button",{className:"md:hidden",onClick:()=>t(!e),"aria-label":"Toggle navigation menu",children:e?(0,s.jsx)(o.A,{size:24}):(0,s.jsx)(i.A,{size:24})})]}),e&&(0,s.jsxs)("nav",{className:"md:hidden px-4 pb-4 space-y-3 bg-blue-800",children:[(0,s.jsx)(l(),{href:"/",className:"block hover:underline",children:"Home"}),(0,s.jsx)(l(),{href:"/roomList",className:"block hover:underline",children:"Hotels Rooms"}),(0,s.jsx)(l(),{href:"/busListing",className:"block hover:underline",children:"Bus Tickets"}),(0,s.jsx)(l(),{href:"/apartmentsListing",className:"block hover:underline",children:"Apartment"}),(0,s.jsx)(l(),{href:"/contact",className:"block hover:underline",children:"Contact Us"}),(0,s.jsx)(l(),{href:"/signin",className:"block hover:underline",children:"Login"})]})]})}},6821:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(5155),r=a(2115);function n(){let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)("footer",{className:"bg-blue-800 text-white py-6 mt-10 relative z-10",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center",children:[(0,s.jsx)("p",{className:"text-sm sm:text-base mb-2 sm:mb-0",children:"\xa9 2025 Visit Liva Trip. All rights reserved."}),(0,s.jsx)("button",{onClick:()=>t(!e),className:"bg-white text-blue-800 px-4 py-2 rounded hover:bg-blue-100 font-semibold transition duration-200",children:"Chat with Us"})]}),e&&(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white w-80 sm:w-96 p-4 rounded-lg shadow-lg border border-gray-300 text-black relative",children:[(0,s.jsx)("button",{onClick:()=>t(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl",children:"\xd7"}),(0,s.jsx)("h2",{className:"text-lg font-semibold mb-3 text-blue-800",children:"Live Chat"}),(0,s.jsx)("div",{className:"h-40 overflow-y-auto border border-gray-200 rounded p-2 mb-3 text-sm",children:(0,s.jsx)("p",{className:"text-gray-600 italic",children:"Chat started. How can we help you today?"})}),(0,s.jsx)("input",{type:"text",placeholder:"Type your message...",className:"w-full p-2 border border-gray-300 rounded mb-2"}),(0,s.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Send"})]})})]})}},9641:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(5155),r=a(2115),n=a(313);let l="https://staging.livatrip.com/api";function o(e){let{isOpen:t,closeModal:a,apartment:o}=e,[i,c]=(0,r.useState)("form"),[d,m]=(0,r.useState)(0),[h,x]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!1),[y,N]=(0,r.useState)({}),[_,v]=(0,r.useState)({pricing_method:"daily",names:"",country:"",email:"",phone:"",from_date_time:"",to_date_time:"",payment_method:"",momo_number:"",extra_note:"",object_type:"apartment",object_id:o?o.id.toString():"",booking_status:"pending",amount_to_pay:0}),w=(e,t)=>{let a=new Date(e),s=Math.ceil((new Date(t).getTime()-a.getTime())/864e5);return s>0?s:0},k=(e,t)=>Math.ceil(w(e,t)/30);(0,r.useEffect)(()=>{if(!o)return;let{from_date_time:e,to_date_time:t,pricing_method:a}=_;if(e&&t){let s=w(e,t);if("daily"===a)m(s*o.price_per_night),x("".concat(s," day").concat(1!==s?"s":""));else if("monthly"===a)if(s<30)m(0),x("Minimum 30 days required");else{let a=k(e,t);m(a*o.price_per_month),x("".concat(a," month").concat(1!==a?"s":""))}}else m(0),x("")},[_.from_date_time,_.to_date_time,_.pricing_method,o]),(0,r.useEffect)(()=>{v(e=>({...e,amount_to_pay:d}))},[d]),(0,r.useEffect)(()=>{o&&v(e=>({...e,object_id:o.id.toString()}))},[o]);let C=()=>{let e={};return _.names.trim()?/^[A-Za-zÀ-ÖØ-öø-ÿ\s'-]+$/.test(_.names)||(e.names="Invalid name format"):e.names="Full name is required",_.country.trim()||(e.country="Country is required"),_.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)||(e.email="Invalid email format"):e.email="Email is required",_.phone.trim()?/^[0-9+\-\s]+$/.test(_.phone)||(e.phone="Invalid phone number"):e.phone="Phone is required",_.from_date_time||(e.from_date_time="Start date is required"),_.to_date_time?_.from_date_time>_.to_date_time&&(e.to_date_time="End date must be after start date"):e.to_date_time="End date is required","monthly"===_.pricing_method&&30>w(_.from_date_time,_.to_date_time)&&(e.to_date_time="Minimum 30 days required for monthly pricing"),"momo_rwanda"===_.payment_method&&(_.momo_number.trim()?/^2507\d{8}$/.test(_.momo_number)||(e.momo_number="MoMo number must be in format 2507XXXXXXXX"):e.momo_number="MoMo number is required"),N(e),0===Object.keys(e).length},S=async()=>{if(C()){g(!0);try{if(!(await fetch("".concat(l,"/send-otp"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:_.email})})).ok)throw Error("Failed to send OTP");c("otp")}catch(e){alert("Error sending OTP")}finally{g(!1)}}},P=async()=>{f(!0);try{if(!(await fetch("".concat(l,"/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:_.email,otp:u})})).ok)throw Error("Invalid OTP");if(!(await fetch("".concat(l,"/bookings"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(_)})).ok)throw Error("Booking failed");c("success")}catch(e){alert("Verification or booking failed")}finally{f(!1)}},M=e=>{let{name:t,value:a}="target"in e?e.target:e;v(e=>({...e,[t]:a}))},T=w(_.from_date_time,_.to_date_time),O=_.names&&_.email&&_.from_date_time&&_.to_date_time&&("monthly"!==_.pricing_method||T>=30);return(0,s.jsx)(n.lG,{open:t,onClose:a,className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,s.jsxs)(n.lG.Panel,{className:"bg-white max-w-md w-full rounded-lg shadow-lg p-6 relative",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl",children:"\xd7"}),"form"===i&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Book Apartment"}),(0,s.jsx)("input",{type:"text",name:"names",placeholder:"Full Name",value:_.names,onChange:M,className:"w-full p-2 border rounded text-black"}),y.names&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.names}),(0,s.jsx)("input",{type:"text",name:"country",placeholder:"Country",value:_.country,onChange:M,className:"w-full p-2 border rounded text-black"}),y.country&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.country}),(0,s.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:_.email,onChange:M,className:"w-full p-2 border rounded text-black"}),y.email&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.email}),(0,s.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone",value:_.phone,onChange:M,className:"w-full p-2 border rounded text-black"}),y.phone&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.phone}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-black",children:"Pricing Method"}),(0,s.jsxs)("select",{name:"pricing_method",value:_.pricing_method,onChange:M,className:"w-full p-2 border rounded text-black",children:[(0,s.jsx)("option",{value:"daily",children:"Per Day"}),(0,s.jsx)("option",{value:"monthly",children:"Per Month"})]})]}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-black",children:"From"}),(0,s.jsx)("input",{type:"date",name:"from_date_time",value:_.from_date_time,onChange:M,className:"w-full p-2 border rounded text-black"}),y.from_date_time&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.from_date_time})]}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-black",children:"To"}),(0,s.jsx)("input",{type:"date",name:"to_date_time",value:_.to_date_time,onChange:M,className:"w-full p-2 border rounded text-black"}),y.to_date_time&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.to_date_time})]}),h&&(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Duration: ",(0,s.jsx)("strong",{children:h})]}),(0,s.jsxs)("div",{className:"text-black font-semibold",children:["Total Price: ",d.toLocaleString()," $"]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>C()&&c("payment"),disabled:!O,className:"px-4 py-2 rounded text-white ".concat(O?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"),children:"Continue to Payment"})]})]}),"payment"===i&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Choose Payment Method"}),(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-black",children:"Payment Method"}),(0,s.jsxs)("select",{name:"payment_method",value:_.payment_method,onChange:M,className:"w-full p-2 border rounded mt-1 text-black",children:[(0,s.jsx)("option",{value:"",children:"-- Select Payment Method --"}),(0,s.jsx)("option",{value:"momo_rwanda",children:"MOMO (MTN Rwanda)"}),(0,s.jsx)("option",{value:"flutterwave",children:"Flutterwave (MOMO, Airtel, Card, Bank Transfer)"})]})]}),"momo_rwanda"===_.payment_method&&(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-black",children:"MoMo Phone Number"}),(0,s.jsx)("input",{type:"number",name:"momo_number",placeholder:"2507XXXXXXXX",value:_.momo_number,onChange:e=>M({name:"momo_number",value:e.target.value}),className:"w-full p-2 border rounded text-black"}),y.momo_number&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y.momo_number}),(0,s.jsx)("textarea",{name:"extra_note",placeholder:"Additional Notes (optional)",value:_.extra_note,onChange:e=>M({name:"extra_note",value:e.target.value}),className:"w-full p-2 border rounded text-black mt-2"})]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>c("form"),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Back"}),(0,s.jsx)("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:b?"Sending OTP...":"Send OTP"})]})]}),"otp"===i&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Enter OTP"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded text-black",placeholder:"Enter OTP"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>c("payment"),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Back"}),(0,s.jsx)("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:j?"Verifying...":"Verify OTP"})]})]}),"success"===i&&(0,s.jsx)("div",{className:"text-center text-green-600 font-semibold",children:"Booking successful! \uD83C\uDF89"})]})})})}function i(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[i,c]=(0,r.useState)(1),[d,m]=(0,r.useState)(1),[h,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[b,g]=(0,r.useState)(0),[j,f]=(0,r.useState)(!1),[y,N]=(0,r.useState)(0),[_,v]=(0,r.useState)({name:"",email:"",phone:"",country:"",from:"",to:"",payment_method:"",momo_number:"",extra_note:"",pricing_method:"daily"}),[w,k]=(0,r.useState)({price_type:"night",min_price:"",max_price:"",from_date:"",to_date:""}),[C,S]=(0,r.useState)("form"),[P,M]=(0,r.useState)(""),[T,O]=(0,r.useState)(!1),[E,A]=(0,r.useState)(!1),[X,L]=(0,r.useState)(0),B="https://staging.livatrip.com/storage",F=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{l(!0);let a=new URLSearchParams;a.append("page",String(e)),Object.entries(w).forEach(e=>{let[t,s]=e;""!==s&&a.append(t,s)});let s=await fetch("".concat("https://staging.livatrip.com/api","/client/apartments?").concat(a.toString()));if(!s.ok)throw Error("Failed to fetch apartments");let r=await s.json();t(r.data),c(r.current_page),m(r.last_page)}catch(e){console.error("Error fetching apartments:",e)}finally{l(!1)}};(0,r.useEffect)(()=>{F(1)},[w]);let q=e=>{x(e),g(0),p(!0)},D=()=>{x(null),p(!1)},$=e=>{x(e),v({name:"",email:"",phone:"",country:"",from:"",to:"",payment_method:"",momo_number:"",extra_note:"",pricing_method:"daily"}),M(""),S("form"),f(!0)};return(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("select",{value:w.price_type,onChange:e=>k({...w,price_type:e.target.value}),className:"p-2 border rounded text-black",children:[(0,s.jsx)("option",{value:"night",children:"Price per Night"}),(0,s.jsx)("option",{value:"month",children:"Price per Month"})]}),(0,s.jsx)("input",{type:"number",placeholder:"Min Price",value:w.min_price,onChange:e=>k({...w,min_price:e.target.value}),className:"p-2 border rounded text-black"}),(0,s.jsx)("input",{type:"number",placeholder:"Max Price",value:w.max_price,onChange:e=>k({...w,max_price:e.target.value}),className:"p-2 border rounded text-black"}),(0,s.jsx)("input",{type:"date",value:w.from_date,onChange:e=>k({...w,from_date:e.target.value}),className:"p-2 border rounded text-black"}),(0,s.jsx)("input",{type:"date",value:w.to_date,onChange:e=>k({...w,to_date:e.target.value}),className:"p-2 border rounded text-black"})]}),(0,s.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:"Apartment List"}),a?(0,s.jsx)("div",{className:"text-center text-lg text-gray-600",children:"Loading apartments..."}):0===e.length?(0,s.jsx)("div",{className:"text-center text-lg text-gray-500",children:"No apartments found."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border hover:shadow-2xl transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"w-full h-48 mb-4 overflow-hidden rounded-lg",children:(0,s.jsx)("img",{src:(null==(t=e.photos)?void 0:t.length)>0?"".concat(B,"/").concat(e.photos[0].url):"/placeholder.jpg",alt:e.name,className:"object-cover w-full h-full"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-indigo-600",children:e.name}),(0,s.jsx)("p",{className:"text-md text-gray-500",children:e.address}),(0,s.jsxs)("p",{className:"text-gray-700 mt-2",children:["Bedrooms: ",e.number_of_bedroom]}),(0,s.jsxs)("p",{className:"text-gray-700",children:["Floors: ",e.number_of_floor]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("strong",{children:"Price/night:"})," ",e.price_per_night?"$".concat(e.price_per_night):"N/A"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("strong",{children:"Price/month:"})," ",e.price_per_month?"$".concat(e.price_per_month):"N/A"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("strong",{children:"Description:"})," ",e.description?"$".concat(e.description):"N/A"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("strong",{children:"Availability:"})," ",e.description?"$".concat(e.description):"N/A"]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsx)("button",{onClick:()=>q(e),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"See More Details"}),(0,s.jsx)("button",{onClick:()=>$(e),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})]})]},e.id)})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>i>1&&F(i-1),disabled:1===i,className:"px-4 py-2 bg-indigo-500 text-white rounded disabled:opacity-50",children:"Previous"}),(0,s.jsxs)("span",{className:"px-4 py-2 text-gray-700",children:["Page ",i," of ",d]}),(0,s.jsx)("button",{onClick:()=>i<d&&F(i+1),disabled:i===d,className:"px-4 py-2 bg-indigo-500 text-white rounded disabled:opacity-50",children:"Next"})]})]}),(0,s.jsx)(n.lG,{open:u,onClose:D,className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,s.jsxs)(n.lG.Panel,{className:"bg-white max-w-2xl w-full rounded-lg shadow-lg p-6 relative",children:[(0,s.jsx)("button",{onClick:D,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl",children:"\xd7"}),h&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-indigo-600 mb-4",children:h.name}),(0,s.jsx)("div",{className:"flex space-x-2 overflow-x-auto mb-4",children:h.photos.map((e,t)=>(0,s.jsx)("img",{src:"".concat(B,"/").concat(e.url),alt:"Apartment photo ".concat(t+1),className:"w-24 h-24 object-cover rounded cursor-pointer ".concat(b===t?"border-2 border-indigo-500":""),onClick:()=>g(t)},e.id))}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("img",{src:"".concat(B,"/").concat(h.photos[b].url),alt:"Selected",className:"w-full h-64 object-cover rounded"})}),(0,s.jsx)("p",{className:"text-gray-700 mb-2",children:h.address}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Bedrooms: ",h.number_of_bedroom]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Floors: ",h.number_of_floor]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Price /Night: ",h.price_per_night]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Price /Month: ",h.price_per_month]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Kitchen Inside: ",h.kitchen_inside]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Kitchen Outside: ",h.kitchen_outside]}),(0,s.jsxs)("p",{className:"text-gray-700 mb-2",children:["Description: ",h.description]}),(0,s.jsx)("button",{onClick:()=>{D(),$(h),h.id},className:"mt-4 w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})]})]})})}),(0,s.jsx)(o,{isOpen:j,closeModal:()=>f(!1),apartment:h})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,9096,8441,1684,7358],()=>t(2885)),_N_E=e.O()}]);