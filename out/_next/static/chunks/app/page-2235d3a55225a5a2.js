(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{3598:(e,t,s)=>{Promise.resolve().then(s.bind(s,7584)),Promise.resolve().then(s.bind(s,6821)),Promise.resolve().then(s.bind(s,4615))},7584:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var l=s(5155),a=s(2115),r=s(6874),o=s.n(r),c=s(7005);s(4792);var n=s(7803),i=s(313),d=s(9509);function h(){var e,t;let[s,r]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(0);(0,a.useEffect)(()=>{r(!0)},[]);let j=[{text:"Hotel Rooms",link:"/roomList"},{text:"Apartment booking",link:"/apartmentsListing"},{text:"Bus ticketing",link:"/busListing"}],b=e=>{x(e),g(0),u(!0)},[f,N]=(0,a.useState)(""),[v,w]=(0,a.useState)([]),[y,k]=(0,a.useState)(!1),S=(0,a.useRef)(null),[C,E]=(0,a.useState)([]),[L,_]=(0,a.useState)([]),[P,A]=(0,a.useState)([]),[R,F]=(0,a.useState)(!0),[T,z]=(0,a.useState)(!0),[I,B]=(0,a.useState)(!0),[D,G]=(0,a.useState)(null),O=d.env.NEXT_PUBLIC_IMAGE_BASE_URL_STORAGE||"http://localhost:3000/images",[H,M]=(0,a.useState)(!1),U=()=>{u(!1),x(null)},q=async()=>{try{F(!0);let e=await fetch("".concat("https://backtest.livatrip.com/api","/client/featured-apartments")),t=await e.json();E(t)}catch(e){console.error("Error fetching apartments:",e)}finally{F(!1)}},V=async()=>{try{z(!0);let e=await fetch("".concat("https://backtest.livatrip.com/api","/client/featured-events")),t=await e.json();console.log(t),_(t)}catch(e){console.error("Error fetching retreats:",e)}finally{z(!1)}},X=async()=>{try{B(!0);let e=await fetch("".concat("https://backtest.livatrip.com/api","/client/featured-rooms"));if(!e.ok)throw Error("Failed to fetch hotels");let t=await e.json();console.log(t),Array.isArray(t)?A(t):A([])}catch(e){console.error("Error fetching hotels:",e),A([])}finally{B(!1)}};return((0,a.useEffect)(()=>{X(),q(),V()},[]),(0,a.useEffect)(()=>{let e=e=>{S.current&&!S.current.contains(e.target)&&k(!1)};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[]),(0,a.useEffect)(()=>{w(j.filter(e=>e.text.toLowerCase().includes(f.toLowerCase())))},[f]),s)?(0,l.jsxs)(l.Fragment,{children:[D&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",onClick:()=>G(null),children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md w-full relative",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:()=>G(null),children:"\xd7"}),(0,l.jsx)("img",{src:"".concat(O,"/").concat(D.photo.url||D.photo.path),alt:D.title,className:"w-full h-64 object-cover rounded mb-4"}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-2",children:D.title}),D.address&&(0,l.jsxs)("p",{className:"text-gray-700 mb-1",children:[(0,l.jsx)("strong",{children:"Address:"})," ",D.address]}),D.location&&(0,l.jsxs)("p",{className:"text-gray-700 mb-1",children:[(0,l.jsx)("strong",{children:"Location:"})," ",D.location]}),D.description&&(0,l.jsxs)("p",{className:"text-gray-700",children:[(0,l.jsx)("strong",{children:"Description:"})," ",D.description]})]})}),(0,l.jsx)("div",{className:"relative flex h-[400px] w-full overflow-hidden",children:(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)(c.FN,{autoPlay:!0,infiniteLoop:!0,showThumbs:!1,showStatus:!1,showArrows:!0,children:[(0,l.jsxs)("div",{className:"h-[400px] bg-[url('/Images/slide1.jpg')] bg-center bg-cover relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,l.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-white text-2xl font-semibold",children:(0,l.jsx)(o(),{href:"/hotel",className:"underline",children:"View Popular Hotel Rooms"})})})]}),(0,l.jsxs)("div",{className:"h-[400px] bg-[url('/Images/bus2.jpg')] bg-center bg-cover relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,l.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-white text-2xl font-semibold",children:(0,l.jsx)(o(),{href:"/bus",className:"underline",children:"Explore Bus Routes"})})})]})]})})}),(0,l.jsx)("div",{className:"relative z-30 -mt-[100px] mx-6 py-6 px-4 flex justify-center bg-blue-800 rounded-lg shadow-lg",children:(0,l.jsxs)("div",{ref:S,className:"relative w-full md:w-1/2",children:[(0,l.jsx)("input",{type:"text",value:f,placeholder:"Search hotels, apartments, or buses...",onFocus:()=>k(!0),onChange:e=>N(e.target.value),className:"w-full p-3 pl-10 rounded-lg bg-white border border-gray-400 text-gray-700 placeholder-gray-500 shadow focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-150 ease-in-out"}),y&&(0,l.jsx)("ul",{className:"absolute mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-auto z-50",children:v.length>0?v.map((e,t)=>(0,l.jsx)("li",{onClick:()=>{N(e.text),k(!1)},className:"px-4 py-2 text-blue-800 bg-blue-50 hover:bg-blue-100 cursor-pointer",children:(0,l.jsx)(o(),{href:e.link,children:e.text})},t)):(0,l.jsx)("li",{className:"px-4 py-2 text-gray-500",children:"No matches"})})]})}),(0,l.jsxs)("section",{className:"py-10 px-4 sm:px-6 lg:px-20",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-blue-800",children:"Featured Hotel Rooms"}),I?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"Loading Rooms..."}):0===P.length?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"No Room found."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(e=>{var t,s;return(0,l.jsxs)(o(),{href:{pathname:"/roomList/more",query:{roomId:e.id}},className:"block bg-white rounded-lg shadow-lg p-4 border border-gray-300 hover:shadow-2xl transition-transform transform hover:scale-105",children:[(0,l.jsx)("div",{className:"w-full h-48 mb-4 overflow-hidden rounded-lg",children:(0,l.jsx)("img",{src:(null==(t=e.photos)?void 0:t.length)>0?"".concat(O,"/").concat(e.photos[0].path):"/placeholder.jpg",alt:e.name,className:"object-cover w-full h-full"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-indigo-600",children:e.name}),(0,l.jsx)("p",{className:"text-gray-700 mt-2",children:e.description}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price: $",e.price]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Hotel: ",null==(s=e.hotel)?void 0:s.name]}),(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Type:"})," ",(0,l.jsx)("span",{className:"text-green-600",children:e.type||"N/A"})]}),e.deleted_on&&(0,l.jsxs)("div",{className:"text-red-500",children:[(0,l.jsx)("span",{className:"font-medium",children:"Deleted On:"})," ",new Date(e.deleted_on).toLocaleDateString()]})]})]},e.id)})})]}),(0,l.jsxs)("section",{className:"py-10 px-4 sm:px-6 lg:px-20",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-blue-800",children:"Featured Apartments"}),R?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"Loading apartments..."}):0===C.length?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"No apartments found."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>{var t;return(0,l.jsxs)("div",{className:"block border rounded-lg shadow hover:shadow-md p-4 text-center cursor-pointer",onClick:()=>G({type:"apartment",title:e.name,address:e.address,photo:e.photos[0]}),children:[(0,l.jsx)("img",{src:(null==(t=e.photos)?void 0:t.length)>0?"".concat(O,"/").concat(e.photos[0].path):"/placeholder.jpg",alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-2"}),(0,l.jsx)("h3",{className:"font-bold text-lg text-blue-800",children:e.name}),(0,l.jsx)("p",{className:"text-gray-700",children:e.address})]},e.id)})})]}),(0,l.jsxs)("section",{className:"py-10 px-4 sm:px-6 lg:px-20 bg-gray-50",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center text-blue-800",children:"Featured Retreats"}),T?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"Loading retreats..."}):0===L.length?(0,l.jsx)("p",{className:"text-center text-gray-500",children:"No retreats found."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:L.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 border hover:shadow-2xl transform transition-transform hover:scale-105",onClick:()=>b(e),children:[(0,l.jsx)("img",{src:e.photos.length>0?"".concat(O,"/").concat(e.photos[0].path):"/placeholder.jpg",alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-2"}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-indigo-600",children:e.title}),(0,l.jsx)("p",{className:"text-md text-gray-500",children:e.address}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Capacity: ",e.capacity]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Price/Person: ",e.price_per_person]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Package Price: ",e.package_price]}),(0,l.jsx)("div",{className:"mt-4 space-y-2",children:(0,l.jsx)("button",{onClick:()=>b(e),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"See More Details"})})]},e.id))})]}),(0,l.jsxs)(i.lG,{open:m,onClose:U,className:"relative z-50",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 overflow-auto",children:(0,l.jsxs)(i.lG.Panel,{className:"bg-white max-w-5xl w-full rounded-xl p-6 shadow-xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,l.jsx)(i.lG.Title,{className:"text-3xl font-bold text-indigo-700",children:null==h?void 0:h.title}),(0,l.jsx)("button",{onClick:U,className:"text-gray-500 hover:text-gray-800 text-xl",children:"âœ•"})]}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:null==h?void 0:h.address}),(null==h||null==(e=h.photos)?void 0:e.length)?(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"w-full h-96 mb-4 rounded overflow-hidden border",children:(0,l.jsx)("img",{src:(null==(t=h.photos)?void 0:t[p])?"".concat(O,"/").concat(h.photos[p].path):"/placeholder.jpg",alt:"Main",className:"w-full h-full object-cover"})}),(0,l.jsx)("div",{className:"flex flex-wrap gap-3",children:h.photos.map((e,t)=>(0,l.jsx)("img",{src:"".concat(O,"/").concat(e.path),onClick:()=>g(t),className:"w-24 h-24 object-cover rounded cursor-pointer border-2 ".concat(t===p?"border-indigo-500":"border-gray-200 hover:border-gray-400"),alt:"Thumbnail ".concat(t+1)},e.id))})]}):null,h&&(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("button",{onClick:()=>{x(h),u(!1),M(!0)},className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Book Now"})})]})})]}),h&&(0,l.jsx)(n.A,{isOpen:H,onClose:()=>{M(!1),x(null)},retreatId:h.id,retreatTitle:h.title})]}):null}}},e=>{e.O(0,[5513,6874,9096,8684,8789,8441,5964,7358],()=>e(e.s=3598)),_N_E=e.O()}]);